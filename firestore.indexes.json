{
  "indexes": [
    {
      "collectionGroup": "beaconPositions",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "deviceId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "timestamp",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "beaconPositions",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "timestamp",
          "order": "DESCENDING"
        }
      ]
    },

    {
      "collectionGroup": "sessions",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "participantDeviceIds",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "currentAuth",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res15",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res13",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res11",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res9",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res7",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level26",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.accuracy",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level28",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.accuracy",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level24",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level24",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level26",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level28",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res15",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "currentAuth",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "profile.emojis",
          "arrayConfig": "CONTAINS"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "profile.keywords",
          "arrayConfig": "CONTAINS"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "username",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "id",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level24",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.accuracy",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level26",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.accuracy",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level28",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.accuracy",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level24",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level26",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.s2_level28",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res7",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res9",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res11",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res13",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "privacySettings.visibility",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res15",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "geofences",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "externalServiceId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "geofences",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "geofences",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "accountId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "activeDevices",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "geofences",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "accountId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "geofences",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "accountId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "tags",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "geofences",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "accountId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res7",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res9",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res11",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res13",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "location.h3_res15",
          "order": "ASCENDING"
        }
      ]
    },

    {
      "collectionGroup": "queuedMessages",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "delivered", "order": "ASCENDING"
        },
        { "fieldPath": "messageType", "order": "ASCENDING" },
        {
          "fieldPath": "locationId", "order": "ASCENDING"
        },
        {
          "fieldPath": "recipientUsername", "order": "ASCENDING"
        },
        {
          "fieldPath": "queuedAt",  "order": "ASCENDING"
        }
      ]
    },
    {
    "collectionGroup": "queuedMessages",
    "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "delivered", "order": "ASCENDING" },
        { "fieldPath": "messageType", "order": "ASCENDING" },
        { "fieldPath": "recipientUsername", "order": "ASCENDING" },
        { "fieldPath": "queuedAt", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "queuedMessages",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "delivered",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "messageType",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "recipientUsername",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "queuedMessages",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "delivered",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "messageType",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "groups",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "userIds",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "messagingEnabled",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "members",
      "queryScope": "COLLECTION_GROUP",
      "fields": [
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "hasKey",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "messages",
      "queryScope": "COLLECTION_GROUP",
      "fields": [
        {
          "fieldPath": "groupId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "timestamp",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "OneTimePreKeys",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "locationId", "order": "ASCENDING" },
        { "fieldPath": "used", "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "ASCENDING" }
      ]
    },
    {
      "collectionGroup": "SignedPreKeys",
      "queryScope": "COLLECTION",
      "fields": [
        { "fieldPath": "userId", "order": "ASCENDING" },
        { "fieldPath": "locationId", "order": "ASCENDING" },
        { "fieldPath": "createdAt", "order": "DESCENDING" }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "userId",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "users",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "locationId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "id",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "oauth2_clients",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "accountName",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "oauth2_clients",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "clientId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "oauth2_clients",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "scopes",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "oauth2_clients",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "createdAt",
          "order": "DESCENDING"
        },
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "oauth2_tokens",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "clientId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expiresAt",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "oauth2_tokens",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "accountId",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expiresAt",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "oauth2_tokens",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "isActive",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expiresAt",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "mls_groups",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "owner_pubkey",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "updated_at",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "mls_welcomes",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "recipient_pubkey",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "picked_up_at",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expires_at",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "created_at",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "mls_welcomes",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "group_id",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "created_at",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "archived_events",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "tags",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "created_at",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expires_at",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "archived_events",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "kind",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "tags",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "created_at",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expires_at",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "archived_events",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "expires_at",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "archived_events",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "recipients",
          "arrayConfig": "CONTAINS"
        },
        {
          "fieldPath": "created_at",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expires_at",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "archived_events",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "group_id",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "created_at",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expires_at",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "archived_events",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "kind",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "created_at",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "expires_at",
          "order": "ASCENDING"
        }
      ]
    },

    {
      "collectionGroup": "mls_groups",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "group_id",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "keypackage_relays",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "owner_pubkey",
          "order": "ASCENDING"
        }
      ]
    },
    {
      "collectionGroup": "roster_policy",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "group_id",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "sequence",
          "order": "DESCENDING"
        }
      ]
    },
    {
      "collectionGroup": "mls_pending_deletions",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "deletion_scheduled_at",
          "order": "ASCENDING"
        }
      ]
    }
  ],
  "fieldOverrides": []
}
